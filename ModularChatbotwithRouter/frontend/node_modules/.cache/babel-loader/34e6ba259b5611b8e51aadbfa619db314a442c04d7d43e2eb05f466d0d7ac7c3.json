{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/joaov/OneDrive/Documentos/CaseCW/ModularChatbotwithRouter/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState,useEffect}from'react';import styled from'styled-components';import{v4 as uuidv4}from'uuid';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ConversationListContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 1rem;\\n\"])));const Title=styled.h2(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  font-size: 1.25rem;\\n  margin-bottom: 1rem;\\n  color: #ecf0f1;\\n\"])));const NewConversationButton=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 0.75rem;\\n  background-color: #3498db;\\n  color: white;\\n  border: none;\\n  border-radius: 0.5rem;\\n  font-size: 1rem;\\n  font-weight: 500;\\n  cursor: pointer;\\n  margin-bottom: 1rem;\\n  transition: background-color 0.2s;\\n\\n  &:hover {\\n    background-color: #2980b9;\\n  }\\n\"])));const ConversationItem=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  padding: 0.75rem;\\n  margin-bottom: 0.5rem;\\n  background-color: \",\";\\n  border-radius: 0.5rem;\\n  cursor: pointer;\\n  transition: background-color 0.2s;\\n  border-left: 3px solid \",\";\\n\\n  &:hover {\\n    background-color: \",\";\\n  }\\n\"])),props=>props.active?'#3498db':'#34495e',props=>props.active?'#2ecc71':'transparent',props=>props.active?'#3498db':'#2c3e50');const ConversationId=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-size: 0.875rem;\\n  font-weight: 500;\\n  color: #ecf0f1;\\n  margin-bottom: 0.25rem;\\n\"])));const ConversationPreview=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-size: 0.75rem;\\n  color: #bdc3c7;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n\"])));const EmptyState=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  color: #7f8c8d;\\n  font-size: 0.875rem;\\n  margin-top: 2rem;\\n\"])));function ConversationList(_ref){let{userId,currentConversationId,onSelectConversation}=_ref;const[conversations,setConversations]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchConversations();},[userId]);const fetchConversations=async()=>{try{setLoading(true);const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL||'/api',\"/conversations/user/\").concat(userId));setConversations(response.data.conversation_ids||[]);}catch(error){console.error('Failed to fetch conversations:',error);setConversations([]);}finally{setLoading(false);}};const createNewConversation=()=>{const newConversationId=\"conv-\".concat(uuidv4().substr(0,8));onSelectConversation(newConversationId);};const handleConversationSelect=conversationId=>{onSelectConversation(conversationId);};if(loading){return/*#__PURE__*/_jsxs(ConversationListContainer,{children:[/*#__PURE__*/_jsx(Title,{children:\"Conversas\"}),/*#__PURE__*/_jsx(EmptyState,{children:\"Carregando...\"})]});}return/*#__PURE__*/_jsxs(ConversationListContainer,{children:[/*#__PURE__*/_jsx(Title,{children:\"Conversas\"}),/*#__PURE__*/_jsx(NewConversationButton,{onClick:createNewConversation,children:\"+ Nova Conversa\"}),conversations.length===0?/*#__PURE__*/_jsxs(EmptyState,{children:[\"Nenhuma conversa encontrada.\",/*#__PURE__*/_jsx(\"br\",{}),\"Comece uma nova conversa!\"]}):conversations.map(conversationId=>/*#__PURE__*/_jsxs(ConversationItem,{active:conversationId===currentConversationId,onClick:()=>handleConversationSelect(conversationId),children:[/*#__PURE__*/_jsx(ConversationId,{children:conversationId}),/*#__PURE__*/_jsx(ConversationPreview,{children:\"Clique para abrir esta conversa\"})]},conversationId))]});}export default ConversationList;","map":{"version":3,"names":["React","useState","useEffect","styled","v4","uuidv4","axios","jsx","_jsx","jsxs","_jsxs","ConversationListContainer","div","_templateObject","_taggedTemplateLiteral","Title","h2","_templateObject2","NewConversationButton","button","_templateObject3","ConversationItem","_templateObject4","props","active","ConversationId","_templateObject5","ConversationPreview","_templateObject6","EmptyState","_templateObject7","ConversationList","_ref","userId","currentConversationId","onSelectConversation","conversations","setConversations","loading","setLoading","fetchConversations","response","get","concat","process","env","REACT_APP_API_URL","data","conversation_ids","error","console","createNewConversation","newConversationId","substr","handleConversationSelect","conversationId","children","onClick","length","map"],"sources":["C:/Users/joaov/OneDrive/Documentos/CaseCW/ModularChatbotwithRouter/frontend/src/components/ConversationList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport axios from 'axios';\r\n\r\nconst ConversationListContainer = styled.div`\r\n  padding: 1rem;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-size: 1.25rem;\r\n  margin-bottom: 1rem;\r\n  color: #ecf0f1;\r\n`;\r\n\r\nconst NewConversationButton = styled.button`\r\n  width: 100%;\r\n  padding: 0.75rem;\r\n  background-color: #3498db;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 0.5rem;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  margin-bottom: 1rem;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: #2980b9;\r\n  }\r\n`;\r\n\r\nconst ConversationItem = styled.div`\r\n  padding: 0.75rem;\r\n  margin-bottom: 0.5rem;\r\n  background-color: ${props => props.active ? '#3498db' : '#34495e'};\r\n  border-radius: 0.5rem;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n  border-left: 3px solid ${props => props.active ? '#2ecc71' : 'transparent'};\r\n\r\n  &:hover {\r\n    background-color: ${props => props.active ? '#3498db' : '#2c3e50'};\r\n  }\r\n`;\r\n\r\nconst ConversationId = styled.div`\r\n  font-size: 0.875rem;\r\n  font-weight: 500;\r\n  color: #ecf0f1;\r\n  margin-bottom: 0.25rem;\r\n`;\r\n\r\nconst ConversationPreview = styled.div`\r\n  font-size: 0.75rem;\r\n  color: #bdc3c7;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  color: #7f8c8d;\r\n  font-size: 0.875rem;\r\n  margin-top: 2rem;\r\n`;\r\n\r\nfunction ConversationList({ userId, currentConversationId, onSelectConversation }) {\r\n  const [conversations, setConversations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchConversations();\r\n  }, [userId]);\r\n\r\n  const fetchConversations = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(`${process.env.REACT_APP_API_URL || '/api'}/conversations/user/${userId}`);\r\n      setConversations(response.data.conversation_ids || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch conversations:', error);\r\n      setConversations([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const createNewConversation = () => {\r\n    const newConversationId = `conv-${uuidv4().substr(0, 8)}`;\r\n    onSelectConversation(newConversationId);\r\n  };\r\n\r\n  const handleConversationSelect = (conversationId) => {\r\n    onSelectConversation(conversationId);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <ConversationListContainer>\r\n        <Title>Conversas</Title>\r\n        <EmptyState>Carregando...</EmptyState>\r\n      </ConversationListContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ConversationListContainer>\r\n      <Title>Conversas</Title>\r\n      <NewConversationButton onClick={createNewConversation}>\r\n        + Nova Conversa\r\n      </NewConversationButton>\r\n      \r\n      {conversations.length === 0 ? (\r\n        <EmptyState>\r\n          Nenhuma conversa encontrada.<br />\r\n          Comece uma nova conversa!\r\n        </EmptyState>\r\n      ) : (\r\n        conversations.map((conversationId) => (\r\n          <ConversationItem\r\n            key={conversationId}\r\n            active={conversationId === currentConversationId}\r\n            onClick={() => handleConversationSelect(conversationId)}\r\n          >\r\n            <ConversationId>{conversationId}</ConversationId>\r\n            <ConversationPreview>\r\n              Clique para abrir esta conversa\r\n            </ConversationPreview>\r\n          </ConversationItem>\r\n        ))\r\n      )}\r\n    </ConversationListContainer>\r\n  );\r\n}\r\n\r\nexport default ConversationList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}